<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang='en'> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang='en'> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang='en'> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang='en'> <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		<title>Alternative to Git Submodules with Git Subtree Merging | William Dodson</title>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="description" content="We all find ourselves using separately maintained Git projects inside of our own personal projects.">
		<meta name="viewport" content="width=device-width">
		<meta name="author" content="/humans.txt">
		<link rel="shortcut icon" href="/favicon.ico">
		<link rel="apple-touch-icon" href="/apple-touch-icon.png">
		
		<link rel="stylesheet" href="/a/c/style.css?v=201401291143">
		<link rel="stylesheet" href="/a/c/syntax.css?v=201401291143">
		
		<!-- typekit -->
		<script type="text/javascript" src="//use.typekit.net/efy5lsk.js"></script>
		<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
		
		<!--[if lt IE 9]>
		    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		    <script>window.html5 || document.write('<script src="js/vendor/html5shiv.js"><\/script>')</script>
		<![endif]-->
	</head>
	<body id="article">
		<!--[if lte IE 8]>
			<div class="container ie-warning">
				<p>Looks like you are using an old version of Internet Explorer. Certain elements of this site will not be available to you and require a modern browser in order to function.</p>
			</div>
		<![endif]-->
		
		<!-- .top -->
		<div class="container top">
			<!-- .masthead -->
			<header class="masthead" role="banner">
				<h1 class="title">
					<a href="/">
						<img alt="William Dodson" src="/a/i/williamdodson-logo-2014.png">
					</a>
				</h1>
				
				<!-- .menu-main -->
<div class="menu-main">
	<nav class="nav-collapse" role="navigation">
		<ul>
			<li><a href="/">Home</a></li>
			<li><a href="/about/">About</a></li>
			<li><a href="/portfolio/">Portfolio</a></li>
			<li class="active"><a href="/articles/">Articles</a></li>
		</ul>
	</nav>
</div>
<!-- /.menu-main -->
				
			</header>
			<!-- /.masthead -->
		</div>
		<!-- /.top -->
		
		<div class="container intro">
			<div class="content">
				<h1>Alternative to Git Submodules with Git Subtree Merging</h1>
				<h2 class="leader">Read up on Subtree Merging to become familiar with this approach</h2>
			</div>
		</div>
		
		<div class="container">
			<!-- .content -->
			<div class="content">
				<article class="main" role="main">
  <div class="meta">
	<p>
		<small>
			<span>Posted on: January 28, 2014</span> <span class="subtle">|</span> 
			<span>Tags: <a href="/tag/git.html" rel="tag">git</a>, <a href="/tag/git-subtree.html" rel="tag">git-subtree</a>, <a href="/tag/git-submodule.html" rel="tag">git-submodule</a>, <a href="/tag/code-snips.html" rel="tag">code-snips</a></span> <span class="subtle">|</span> 
			<span class="share-links">
				<a class="share" href="http://twitter.com/home?status=http://williamdodson.co/articles/git-subtree" title="Share on Twitter"><img alt="Twitter" src="/a/i/icons/icon-twitter.png"></a> 
				<a class="share" href="http://www.facebook.com/sharer.php?u=http://williamdodson.co/articles/git-subtree" title="Share on Facebook"><img alt="Facebook" src="/a/i/icons/icon-facebook.png"></a> 
				<a class="share" href="https://plus.google.com/share?url=http://williamdodson.co/articles/git-subtree" title="Share on Google+"><img alt="Google+" src="/a/i/icons/icon-gplus.png"></a>
			</span>
		</small>
	</p>
	<div id="share-me">
		
	</div>
</div>
  <p>We all find ourselves using separately maintained Git projects inside of our own personal projects. It’s a common situation and most projects I’ve worked on used <a href="http://git-scm.com/book/en/Git-Tools-Submodules">Git Submodules</a> for the task. However, if you’ve worked on enough projects that use submodules you know it’s terribly, well&#8230;terrible.</p>
  
  <p>Instead of dealing with submodule headaches I find it’s much easier (and preferable) to use subtree merging. First off, we create/clone our main repository the normal way. From within the main repository we can merge the master or another branch of a separate repository into specified subdirectory of the main repository:</p>
  
  <div class="highlight"><pre><code class="bash">	<span class="nv">$ </span>git remote add -f subtree-repo /path/to/subtree-repo
	<span class="nv">$ </span>git merge -s ours --no-commit subtree-repo/master
	<span class="nv">$ </span>git <span class="nb">read</span>-tree --prefix<span class="o">=</span>subtree-repo/ -u subtree-repo/master
	<span class="nv">$ </span>git commit -m <span class="s2">&quot;Merge subtree-repo as a subdirectory.&quot;</span>
	
</code></pre></div>
	
	<p>Now when the other repository changes we can pull those changes into your main repository by using a subtree merge strategy:</p>
	
	<div class="highlight"><pre><code class="bash">	<span class="nv">$ </span>git pull -s subtree subtree-repo master
	
</code></pre></div>
	
	<p>And here is a GitHub Gist for your reference and bookmarking pleasure:</p>
	<script src="https://gist.github.com/8657578.js"> </script>
	
	<p>There are some caveats to this approach, not least of which would be squashing subtree commit messages to prevent updating our own project’s <code>HEAD</code> reference. I would recommend that you to read up on Subtree Merging to become familiar with this approach and to help avoid any potential merge hiccups that may arise: <a href="http://git-scm.com/book/en/Git-Tools-Subtree-Merging">http://git-scm.com/book/en/Git-Tools-Subtree-Merging</a>.</p>
	
	<p>This approach works for me as I’m typically just grabbing external code to include in my own projects. An example would be a client website repository that relies on an external library such as <a href="http://responsive-nav.com/">Responsive Nav</a>. Using this approach has made me nearly forget why I ever used submodules.</p>
	
	<p>I am certainly no Git master and I’m always open to better approaches to how I work. If you have any suggestions please leave me a comment on the <a href="https://gist.github.com/obxdesignworks/8657578">GitHub Gist</a> I have posted to accompany this article. Cheers!</p>
</article>
				<aside class="ancillary" role="complementary">
	<h2>Recent Articles</h2>
	<ul class="separate posts">
		
		<li>
			<a href="/articles/git-subtree">
				Alternative to Git Submodules with Git Subtree Merging
			</a>
		</li>
		
		<li>
			<a href="/articles/new-year-new-website">
				New Year, New Website
			</a>
		</li>
		
	</ul>
	
	<h2>Tags</h2>
	<div class="separate tag-cloud">
	  <a href="/tag/announcements.html" class="set-1">announcements</a> <a href="/tag/code-snips.html" class="set-5">code-snips</a> <a href="/tag/git.html" class="set-1">git</a> <a href="/tag/git-submodule.html" class="set-1">git-submodule</a> <a href="/tag/git-subtree.html" class="set-1">git-subtree</a>
	</div>
	
	<div class="separate">
		<h2>Recent Links</h2>
		<script language="javascript" src="http://pinboard.in//widgets/v1/linkroll/?user=obxdesignworks&count=4"></script>
		<p class="social"><a class="button" href="https://pinboard.in/u:obxdesignworks"><strong>See all my Pinboard links</strong></a></p>
	</div>
</aside>
			</div>
			<!-- /.content -->
		</div>
		
		<!-- .bottom -->
		<div class="container bottom">
			<footer class="copyright">
				<p>
					<small>&#169;2014 William Dodson. All Rights Reserved.</small>
				</p>
			</footer>
		</div>
		<!-- /.bottom -->
		<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
		<!--[if lt IE 9]>
			<script src="/a/j/selectivizr-min.js"></script>
		<![endif]-->
		<script src="/a/j/responsive-nav.min.js"></script>
		<script src="/a/j/site.min.js"></script>
		<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	
	  ga('create', 'UA-47268098-1', 'williamdodson.co');
	  ga('send', 'pageview');
		</script>
	</body>
</html>
